<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Joueur — Rojiblanca FC</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/mobile.css">
    <link rel="stylesheet" href="css/desktop.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script>
        function toggleMenu() {
            document.querySelector(".nav-left").classList.toggle("open");
        }
    </script>
    <style>
        @media (max-width: 768px) {
            .charts-podium-container {
                display: flex;
                flex-direction: column;
                gap: 20px;
            }

            .charts-panel,
            .podium-panel {
                width: 100% !important;
                max-width: 100% !important;
            }

            canvas {
                width: 100% !important;
                height: auto !important;
            }
        }
    </style>
</head>

<body class="stats-page player-page">
    <header class="header">
        <div class="header-left">
            <a href="index.html" class="logo-link">
                <div class="logo">
                    <img src="images/logo.png" alt="Rojiblanca FC">
                    <span>Rojiblanca FC</span>
                </div>
            </a>
            <div class="hamburger" onclick="toggleMenu()">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <nav class="nav-left">
                <a href="index.html">Accueil</a>
                <a href="team.html">Équipe</a>
                <a href="results.html">Résultats</a>
                <a href="stats.html" class="active">Statistiques</a>
            </nav>
        </div>
    </header>

    <main class="main-content">
        <section style="width:100%;max-width:1200px;margin:0 auto;padding:10px 20px;">
            <h2 class="results-title" id="playerName">Joueur</h2>
            <div class="stats-filters">
                <div class="filter-group">
                    <label>Équipe :</label>
                    <select id="teamFilter">
                        <option value="all">Total</option>
                        <option value="Rojiblanca 7">Rojiblanca 7</option>
                        <option value="Rojiblanca 11">Rojiblanca 11</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>Matchs :</label>
                    <select id="matchTypeFilter">
                        <option value="all">Total</option>
                        <option value="official">Officiels</option>
                        <option value="league">Championnat</option>
                        <option value="cup">Coupe</option>
                        <option value="friendly">Amicaux</option>
                    </select>
                </div>
            </div>
        </section>

        <section id="player-summary" class="stats-summary"
            style="width:100%;max-width:1200px;margin:18px auto 40px;display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:20px;padding:0 20px;">
        </section>

        <section class="charts-podium-container"
            style="width:100%;max-width:1200px;margin:10px auto 40px;padding:0 20px; display:flex; flex-wrap:wrap; gap:24px;">
            <div class="charts-panel" style="flex:1; min-width:320px;">
                <canvas id="pieWDL" height="260"></canvas>
            </div>
            <aside class="podium-panel" style="flex:1; min-width:320px;">
                <div style="background:rgba(255,255,255,0.06);backdrop-filter:blur(8px);border-radius:12px;padding:16px;border:1px solid rgba(255,255,255,0.08);">
                    <h3 style="margin-bottom:8px;text-align:center;font-weight:800;">Classements du joueur</h3>
                    <div id="ranks" style="display:flex;flex-direction:column;gap:12px;"></div>
                </div>
            </aside>
        </section>

        <section style="width:100%;max-width:1200px;margin:10px auto 120px;padding:0 20px;">
            <h3 style="font-size:20px;margin-bottom:18px;text-transform:uppercase;">Détails des performances</h3>
            <div id="player-stats-grid" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:18px;"></div>
        </section>
    </main>

    <footer class="footer">
        <p>© Rojiblanca FC</p>
    </footer>

    <script src="js/player.js"></script>
    <script>
        (function () {
            const btn = document.querySelector(".hamburger");
            const nav = document.querySelector(".nav-left");
            if (!btn || !nav) return;
            btn.addEventListener('click', () => {
                nav.classList.toggle('open-mobile');
                btn.classList.toggle('open');
            });
            nav.querySelectorAll('a').forEach(a => {
                a.addEventListener('click', () => {
                    if (nav.classList.contains('open-mobile')) {
                        nav.classList.remove('open-mobile');
                        btn.classList.remove('open');
                    }
                });
            });
        })();
    </script>
</body>

</html>
